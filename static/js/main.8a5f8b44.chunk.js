(this["webpackJsonpreact-autocomplete"]=this["webpackJsonpreact-autocomplete"]||[]).push([[0],{21:function(e,t,n){e.exports=n(45)},3:function(e,t,n){e.exports={label:"Input_label__8uzMw",input:"Input_input__288mn",curlyCorners:"Input_curlyCorners__2cPvy",noCurlyCorners:"Input_noCurlyCorners__2Pigd",loading:"Input_loading__z-SY0"}},4:function(e,t,n){e.exports={suggestionsContainer:"Suggestions_suggestionsContainer__Vv477",ulExpanded:"Suggestions_ulExpanded__9xGge",ulCollapsed:"Suggestions_ulCollapsed__2q5g4",selectedItem:"Suggestions_selectedItem__3q9lr"}},45:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(17),s=n.n(o),c=n(2),u=n(6),l=n.n(u),i=function(e){var t=e.type,n="noSuggestions"===t?l.a.warning:l.a.danger,a="noSuggestions"===t?"No suggestions were found.":"There was a problem while fetching the characters.";return r.a.createElement("div",{"data-test":"component-alert",className:n},r.a.createElement("span",{"data-test":"alert-message"},a))},g=n(20),d=n(3),p=n.n(d),m=function(e){var t=e.curlyCorners,n=e.inputRef,a=e.loading,o=Object(g.a)(e,["curlyCorners","inputRef","loading"]),s=t?p.a.noCurlyCorners:p.a.curlyCorners;return r.a.createElement("form",null,r.a.createElement("label",{htmlFor:"search"},r.a.createElement("span",{className:p.a.label},"Search"),r.a.createElement("input",Object.assign({},o,{ref:n,type:"text","data-test":"component-input",className:"".concat(s," ").concat(p.a.input," ").concat(a?p.a.loading:null)}))))},f=n(4),b=n.n(f),h=function(e){var t=e.suggestions,n=e.selectSuggestion,a=e.cursor,o=t.length?b.a.ulExpanded:b.a.ulCollapsed,s=function(e){return a===e?b.a.selectedItem:null};return r.a.createElement("div",{"data-test":"component-suggestions",className:b.a.suggestionsContainer},r.a.createElement("ul",{className:o},t.map((function(e,t){var a=e.name,o=e.id;return r.a.createElement("li",{"data-test":"suggestion-list",key:o,className:s(t)},r.a.createElement("span",{onClick:function(){return n(a)},onKeyDown:function(){},tabIndex:"-1",role:"button"},a))}))))},v=n(7),_=n.n(v),E=n(18),S=n(19),y=n.n(S),C=n(5),w=n.n(C);w.a.defaults.baseURL="https://gateway.marvel.com/v1/public",w.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||console.log("Logging the error ",e),Promise.reject(e.response)}));var j={get:w.a.get},O=function(e){var t=Object(a.useState)([]),n=Object(c.a)(t,2),r=n[0],o=n[1],s=Object(a.useState)(!1),u=Object(c.a)(s,2),l=u[0],i=u[1],g=Object(a.useState)(!1),d=Object(c.a)(g,2),p=d[0],m=d[1],f=Object(a.useState)(!1),b=Object(c.a)(f,2),h=b[0],v=b[1],S=Object(a.useState)(-1),C=Object(c.a)(S,2),w=C[0],O=C[1],k=Object(a.useState)(!0),x=Object(c.a)(k,2),I=x[0],N=x[1];return Object(a.useEffect)((function(){var t=!1;return N(!0),y()(Object(E.a)(_.a.mark((function n(){var a,r;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e.length<2)){n.next=4;break}return o([]),v(!1),n.abrupt("return");case 4:if(t||!I){n.next=21;break}return m(!1),i(!0),n.prev=7,n.next=10,s=e,j.get("".concat("/characters","?ts=1&nameStartsWith=").concat(s,"&apikey=").concat("3377a151278737889a97df393df5b792"));case 10:a=n.sent,r=a.data.data.results,o(r),O(-1),v(0===r.length),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(7),200!==n.t0.status&&m(!0);case 20:i(!1);case 21:case"end":return n.stop()}var s}),n,null,[[7,17]])}))),1e3)(),function(){t=!0}}),[e]),{suggestions:r,loading:l,error:p,cursor:w,setCursor:O,noSuggestions:h,setShouldFetch:N}},k=function(){var e=Object(a.useState)(""),t=Object(c.a)(e,2),n=t[0],o=t[1],s=O(n),u=s.suggestions,l=s.loading,g=s.error,d=s.cursor,p=s.setCursor,f=s.noSuggestions,b=s.setShouldFetch,v=Object(a.useState)(!1),_=Object(c.a)(v,2),E=_[0],S=_[1],y=Object(a.useRef)(null),C=function(e){b(!1),o(e),S(!1),p(-1)},w=function(e){if(27===e.keyCode)E&&(S(!1),y.current.blur());else if(38===e.keyCode)p((function(e){return d>0?e-1:e}));else if(40===e.keyCode)p((function(e){return d<u.length-1?e+1:e}));else if(13===e.keyCode){e.preventDefault();var t=u[d];t&&(C(t.name),y.current.blur())}};return Object(a.useEffect)((function(){return window.addEventListener("keydown",w),function(){window.removeEventListener("keydown",w)}})),r.a.createElement("div",{"data-test":"component-autocomplete"},r.a.createElement(m,{inputRef:y,value:n,placeholder:"Search terms",curlyCorners:n.length>1&&u.length>0&&E,loading:l,onFocus:function(){return S(!0)},onChange:function(e){return o(e.target.value)}}),E&&r.a.createElement(h,{suggestions:u,cursor:d,selectSuggestion:C}),r.a.createElement("div",{"data-test":"component-alert"},g&&r.a.createElement(i,{type:""}),f&&r.a.createElement(i,{type:"noSuggestions"})))},x=function(){return r.a.createElement("div",{"data-test":"component-app"},r.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},6:function(e,t,n){e.exports={danger:"Alert_danger__1S1dS",warning:"Alert_warning__JnH93"}}},[[21,1,2]]]);
//# sourceMappingURL=main.8a5f8b44.chunk.js.map